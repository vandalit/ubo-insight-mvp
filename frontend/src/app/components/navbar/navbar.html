<nav class="navbar">
  <div class="navbar-container">
    <!-- Logo y Marca -->
    <a routerLink="/" class="navbar-brand">
      <img 
        src="assets/images/logos/Marca-UBO.webp" 
        alt="Universidad Bernardo O'Higgins - UBO Insight" 
        class="navbar-logo"
        loading="lazy"
      />
    </a>
    
    <!-- Navigation Links - Desktop -->
    <nav class="navbar-nav" role="navigation" aria-label="Navegación principal">
      <a 
        routerLink="/home" 
        routerLinkActive="active" 
        class="nav-link"
        [attr.aria-current]="isActiveRoute('/home') ? 'page' : null"
      >
        Home
      </a>
      <a 
        routerLink="/servicios" 
        routerLinkActive="active" 
        class="nav-link"
        [attr.aria-current]="isActiveRoute('/servicios') ? 'page' : null"
      >
        Servicios
      </a>
      <a 
        routerLink="/ciberseguridad" 
        routerLinkActive="active" 
        class="nav-link"
        [attr.aria-current]="isActiveRoute('/ciberseguridad') ? 'page' : null"
      >
        Ciberseguridad
      </a>
      <a 
        routerLink="/noticias" 
        routerLinkActive="active" 
        class="nav-link"
        [attr.aria-current]="isActiveRoute('/noticias') ? 'page' : null"
      >
        Noticias
      </a>
      <a 
        routerLink="/diario-mural" 
        routerLinkActive="active" 
        class="nav-link"
        [attr.aria-current]="isActiveRoute('/diario-mural') ? 'page' : null"
      >
        Diario Mural
      </a>
      <a 
        routerLink="/dashboard" 
        routerLinkActive="active" 
        class="nav-link dashboard-link"
        [attr.aria-current]="isActiveRoute('/dashboard') ? 'page' : null"
      >
        📊 Dashboard
      </a>
    </nav>
    
    <!-- CTA y Mobile Menu -->
    <div class="navbar-cta">
      <button 
        (click)="openMesaAyuda()" 
        class="btn-mesa-ayuda"
        type="button"
        aria-label="Abrir Mesa de Ayuda"
      >
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
        </svg>
        Mesa de Ayuda
      </button>
      
      <!-- Mobile menu button -->
      <button 
        (click)="toggleMobileMenu()" 
        class="mobile-menu-btn"
        type="button"
        [attr.aria-expanded]="mobileMenuOpen"
        aria-label="Abrir menú de navegación"
      >
        <svg fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path 
            stroke-linecap="round" 
            stroke-linejoin="round" 
            stroke-width="2" 
            [attr.d]="mobileMenuOpen ? 'M6 18L18 6M6 6l12 12' : 'M4 6h16M4 12h16M4 18h16'"
          ></path>
        </svg>
      </button>
    </div>
  </div>
  
  <!-- Mobile menu -->
  <div class="mobile-menu" [class.hidden]="!mobileMenuOpen">
    <div class="mobile-menu-container">
      <nav role="navigation" aria-label="Navegación móvil">
        <a 
          routerLink="/home" 
          routerLinkActive="active" 
          class="mobile-nav-link"
          (click)="closeMobileMenu()"
          [attr.aria-current]="isActiveRoute('/home') ? 'page' : null"
        >
          Home
        </a>
        <a 
          routerLink="/servicios" 
          routerLinkActive="active" 
          class="mobile-nav-link"
          (click)="closeMobileMenu()"
          [attr.aria-current]="isActiveRoute('/servicios') ? 'page' : null"
        >
          Servicios
        </a>
        <a 
          routerLink="/ciberseguridad" 
          routerLinkActive="active" 
          class="mobile-nav-link"
          (click)="closeMobileMenu()"
          [attr.aria-current]="isActiveRoute('/ciberseguridad') ? 'page' : null"
        >
          Ciberseguridad
        </a>
        <a 
          routerLink="/noticias" 
          routerLinkActive="active" 
          class="mobile-nav-link"
          (click)="closeMobileMenu()"
          [attr.aria-current]="isActiveRoute('/noticias') ? 'page' : null"
        >
          Noticias
        </a>
        <a 
          routerLink="/diario-mural" 
          routerLinkActive="active" 
          class="mobile-nav-link"
          (click)="closeMobileMenu()"
          [attr.aria-current]="isActiveRoute('/diario-mural') ? 'page' : null"
        >
          Diario Mural
        </a>
        <a 
          routerLink="/dashboard" 
          routerLinkActive="active" 
          class="mobile-nav-link dashboard-link"
          (click)="closeMobileMenu()"
          [attr.aria-current]="isActiveRoute('/dashboard') ? 'page' : null"
        >
          📊 Dashboard
        </a>
      </nav>
      
      <div class="mobile-cta">
        <button 
          (click)="openMesaAyuda(); closeMobileMenu()" 
          class="btn-mesa-ayuda"
          type="button"
          style="width: 100%; justify-content: center;"
        >
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
          </svg>
          Mesa de Ayuda
        </button>
      </div>
    </div>
  </div>
</nav>
