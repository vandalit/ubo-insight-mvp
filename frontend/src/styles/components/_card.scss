// Card Component Styles - UBO Insight MVP
@use '../tokens' as *;
@use '../mixins' as *;

// ===== BASE CARD STYLES =====
.card {
  @include card-base;
  
  // Usar variables CSS para temas
  background-color: var(--card-bg, #{$color-white});
  border: $border-width-1 solid var(--card-border, #{$color-gray-200});
  box-shadow: var(--card-shadow, #{$shadow-base});
}

.card-interactive {
  @include card-interactive;
  
  &:hover {
    box-shadow: var(--card-shadow-hover, #{$shadow-lg});
  }
}

// ===== CARD HEADER =====
.card-header {
  padding: $space-6;
  border-bottom: $border-width-1 solid var(--card-border, #{$color-gray-200});
  
  .card-title {
    @include heading-3;
    
    & {
      margin: 0;
      color: var(--color-gray-900, #{$color-gray-900});
    }
  }
  
  .card-subtitle {
    @include small-text;
    margin: $space-1 0 0 0;
    color: var(--color-gray-600, #{$color-gray-600});
  }
}

// ===== CARD BODY =====
.card-body {
  padding: $space-6;
  
  .card-text {
    @include body-text;
    margin: 0 0 $space-4 0;
    
    &:last-child {
      margin-bottom: 0;
    }
  }
}

// ===== CARD FOOTER =====
.card-footer {
  padding: $space-4 $space-6;
  border-top: $border-width-1 solid var(--card-border, #{$color-gray-200});
  background-color: var(--color-gray-50, #{$color-gray-50});
  
  @include flex-between;
  
  .card-actions {
    display: flex;
    gap: $space-2;
  }
}

// ===== CARD IMAGE =====
.card-image {
  width: 100%;
  height: 200px;
  object-fit: cover;
  
  &.card-image-sm {
    height: 120px;
  }
  
  &.card-image-lg {
    height: 300px;
  }
}

// ===== CARD VARIANTS =====
.card-elevated {
  box-shadow: var(--shadow-lg, #{$shadow-lg});
  
  &:hover {
    box-shadow: var(--shadow-xl, #{$shadow-xl});
  }
}

.card-outlined {
  border: $border-width-2 solid var(--card-border, #{$color-gray-200});
  box-shadow: none;
}

.card-flat {
  box-shadow: none;
  border: none;
}

// ===== CARD STATES =====
.card-loading {
  position: relative;
  overflow: hidden;
  
  &::after {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(
      90deg,
      transparent,
      rgba(255, 255, 255, 0.4),
      transparent
    );
    animation: shimmer 1.5s infinite;
  }
}

@keyframes shimmer {
  0% {
    left: -100%;
  }
  100% {
    left: 100%;
  }
}

.card-disabled {
  opacity: 0.6;
  cursor: not-allowed;
  
  * {
    pointer-events: none;
  }
}

// ===== CARD GRID LAYOUTS =====
.card-grid {
  @include grid-responsive(280px, $space-6);
  
  &.card-grid-sm {
    @include grid-responsive(240px, $space-4);
  }
  
  &.card-grid-lg {
    @include grid-responsive(320px, $space-8);
  }
}

// ===== RESPONSIVE CARDS =====
@include media-sm {
  .card-body {
    padding: $space-8;
  }
  
  .card-header {
    padding: $space-8 $space-8 $space-6 $space-8;
  }
  
  .card-footer {
    padding: $space-6 $space-8;
  }
}

// ===== CARD SPECIFIC TO PROJECT =====
// Service Card (usado en ServiciosComponent)
.service-card {
  @extend .card-interactive;
  
  .service-image {
    @extend .card-image;
    transition: $transition-transform;
  }
  
  .service-content {
    @extend .card-body;
  }
  
  .service-title {
    @include heading-3;
    margin-bottom: $space-2;
    color: var(--color-gray-900, #{$color-gray-900});
  }
  
  .service-description {
    @include body-text;
    @include text-clamp(3);
    margin-bottom: $space-4;
  }
  
  .service-category {
    display: inline-block;
    padding: $space-1 $space-3;
    background-color: var(--color-gray-100, #{$color-gray-100});
    color: var(--color-gray-700, #{$color-gray-700});
    font-size: $font-size-xs;
    font-weight: $font-weight-medium;
    border-radius: $border-radius-full;
    margin-bottom: $space-4;
  }
  
  &:hover .service-image {
    transform: scale(1.05);
  }
}

// News Card (usado en NoticiasComponent)
.news-card {
  @extend .card-interactive;
  
  .news-image {
    @extend .card-image;
    height: 160px;
  }
  
  .news-content {
    @extend .card-body;
    padding: $space-4;
  }
  
  .news-title {
    @include heading-3;
    font-size: $font-size-lg;
    margin-bottom: $space-2;
    color: var(--color-gray-900, #{$color-gray-900});
  }
  
  .news-summary {
    @include body-text;
    @include text-clamp(2);
    margin-bottom: $space-3;
  }
  
  .news-meta {
    display: flex;
    align-items: center;
    gap: $space-3;
    font-size: $font-size-xs;
    color: var(--color-gray-500, #{$color-gray-500});
  }
  
  .news-category {
    padding: $space-1 $space-2;
    background-color: var(--color-primary, #{$color-primary});
    color: var(--color-white, #{$color-white});
    border-radius: $border-radius-sm;
    font-weight: $font-weight-medium;
  }
  
  .news-featured {
    position: relative;
    
    &::before {
      content: '⭐';
      position: absolute;
      top: $space-2;
      right: $space-2;
      background-color: var(--color-warning, #{$color-warning});
      color: var(--color-white, #{$color-white});
      width: 24px;
      height: 24px;
      border-radius: $border-radius-full;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 12px;
    }
  }
}

// Dashboard Card (usado en módulos administrativos)
.dashboard-card {
  @extend .card;
  
  .dashboard-card-header {
    @extend .card-header;
    padding: $space-4 $space-6;
    
    .dashboard-card-title {
      font-size: $font-size-base;
      font-weight: $font-weight-semibold;
      margin: 0;
    }
  }
  
  .dashboard-card-content {
    @extend .card-body;
    padding: $space-6;
    text-align: center;
  }
  
  .dashboard-metric {
    .metric-value {
      font-size: $font-size-3xl;
      font-weight: $font-weight-bold;
      color: var(--color-primary, #{$color-primary});
      margin-bottom: $space-1;
    }
    
    .metric-label {
      font-size: $font-size-sm;
      color: var(--color-gray-600, #{$color-gray-600});
      margin-bottom: $space-2;
    }
    
    .metric-trend {
      font-size: $font-size-xs;
      font-weight: $font-weight-medium;
      
      &.trend-up {
        color: var(--color-success, #{$color-success});
      }
      
      &.trend-down {
        color: var(--color-danger, #{$color-danger});
      }
    }
  }
}
